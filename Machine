<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Emily's Slot Picker ❤️</title>
<style>
:root {
  --bg: #ffe4e1;
  --card: #fff0f5;
  --accent: #ff69b4;
  --text: #4a2a3b;
  --border: #ffb6c1;
  --shadow: rgba(255, 105, 180, 0.3);
  --mono: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:var(--mono);
  background:var(--bg);
  color:var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  padding:20px;
}
.wrap{max-width:800px;width:100%;text-align:center;}
h1{font-size:24px;color:var(--accent);margin:10px 0;}
.machine{background:var(--card);border-radius:12px;padding:15px;box-shadow:0 4px 20px var(--shadow);margin-bottom:20px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:15px;}
select{padding:8px;border:1px solid var(--border);border-radius:6px;background:var(--card);color:var(--text);font-weight:600;outline:none;width:120px;}
button{padding:8px 16px;border:none;border-radius:6px;background:var(--accent);color:#fff;font-weight:600;cursor:pointer;transition:background 0.2s;}
button:hover{background:#ff85c0;}
button:disabled{background:#ccc;cursor:not-allowed;}
.result-strip{display:flex;gap:10px;justify-content:center;}
.result-pill{padding:8px 12px;background:var(--card);border:1px solid var(--border);border-radius:6px;font-size:12px;font-weight:600;min-width:120px;text-align:center;}
.category-list{display:none;background:var(--card);border-radius:8px;padding:10px;margin-top:10px;box-shadow:0 4px 20px var(--shadow);}
.category-list.show{display:block;}
.category-list details{margin-bottom:10px;}
.category-list summary{cursor:pointer;padding:8px;background:var(--accent);color:#fff;border-radius:6px;font-weight:600;}
.category-list ul{list-style:none;padding:10px;margin:0;background:#fff;border-radius:6px;}
.category-list li{padding:5px 0;font-size:12px;}
footer{font-size:12px;color:var(--text);opacity:0.7;margin-top:20px;}
@media(max-width:600px){select{width:100px;font-size:12px}.result-pill{min-width:100px;font-size:10px}}
</style>
</head>
<body>
<div class="wrap">
  <h1>Emily's Slot Picker ❤️</h1>
  <div class="machine">
    <div class="controls">
      <select id="cat0"></select>
      <select id="cat1"></select>
      <select id="cat2"></select>
      <button id="pickBtn">Spin</button>
    </div>
    <div class="result-strip">
      <div class="result-pill" id="res0">—</div>
      <div class="result-pill" id="res1">—</div>
      <div class="result-pill" id="res2">—</div>
    </div>
  </div>
  <button id="showLists">Show All Lists</button>
  <div class="category-list" id="fullLists"></div>
  <footer>Built for Emily ❤️</footer>
</div>
<script>
const data = {
  "Fav Movies":["Matilda","Inside out","Shrek","Coralline","Dangerous Animals","Tangled","Robots","Despicable Me","Minions","Jurassic world rebirth","Pitch perfect","Harry Potter series","Conjouring","Flushed away","The bee movie"],
  "Fav Shows":["Dance Academy","Shameless","Bri and Georgia","Euphoria","Gossip girl","Vampire diaries"],
  "Fav Foods":["Salt and pepper chicken","Fish and chips","Pink lady apples","Pink lady apples with lemon juice","Weetabix crispy minis","Crumpets with butter","Costco hot dogs","Buttered toast","Sausage roll","Steak pasty","Cheese string","Strawberries","Pasta","Jacket potato","Sunday roast","Pepperoni Pizza","Kebab","Eggs royal","Rice snaps cereal","Subway order: hearty Italian, bmt, onion, pepper, sweetcorn, jalapeños","Ham and cheese toastie with ketchup on side"],
  "Fav Snacks":["Walkers beetroot chilli","Walkers baked","Walkers c&o, ready salted, vinegar","Space raiders beef","Squares","Quavers","Pringles BBQ","Original","Milkybar","Aero","Magic stars","Double decker","Buttons","Ice cream","Biscotti Ice cream (Blackpool)","Maryland cookies","Animals","Party rings","School cake","Cheese strings","Pepperami","Polish peperami","Chocolate croissant","Hersheys bar"],
  "Fav artists":["Lana del ray","BLK","Miley Cyrus","Amy Winehouse","Lewis Capaldi","I hate models","Young gravy","Eminem","Ed Sheeran","Drake"],
  "Fav Drinks":["Water","Mocha Latte","Lidl Sparkling water","Capri sun","Diet Coke","Red bull: violet edition or peach","Green smoothies","Ginger shot","Fanta zero","Pumpkin spice latte"],
  "Fav Dates":["Cinema","Play dough","Painting","Driving to takeaways","Christmas markets","Walk in the park","Casino","Shopping","Roblox","Cooking","Watching at home"],
  "Fav sauces":["Ranch","Mayo","Perinaise","Garlic and herb","Sour cream and chive","Cheese and chive","Mascarpone pasta sauce"],
  "Fav trends":["Labubu","Dubai chocolate","Jelly cats"],
  "Dislikes":["Things too sweet","Cancelling plans","Night shifts","Jan"],
  "Going out drinks":["Vodka lime and soda","Wine","Cider"]
};

const catSelects=[document.getElementById("cat0"),document.getElementById("cat1"),document.getElementById("cat2")];
const pickBtn=document.getElementById("pickBtn");
const showListsBtn=document.getElementById("showLists");
const fullLists=document.getElementById("fullLists");
const resPills=[document.getElementById("res0"),document.getElementById("res1"),document.getElementById("res2")];

function escapeHtml(s){return s.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}

function populate(){
  const keys=Object.keys(data);
  catSelects.forEach((sel,i)=>{
    sel.innerHTML='<option value="">Select Category</option>';
    keys.forEach(k=>{let o=document.createElement("option");o.value=k;o.textContent=k;sel.appendChild(o);});
    if(i===0) sel.value="Fav Movies";
    if(i===1) sel.value="Fav Foods";
    if(i===2) sel.value="Fav Shows";
  });
}

function buildLists(){
  fullLists.innerHTML='';
  for(const [cat,items] of Object.entries(data)){
    let det=document.createElement("details");
    det.innerHTML=`<summary>${cat}</summary><ul>${items.map(i=>`<li>${escapeHtml(i)}</li>`).join("")}</ul>`;
    fullLists.appendChild(det);
  }
}

function spinPill(pill, items, duration=1200){
  return new Promise(resolve=>{
    let elapsed=0;
    const interval=50;
    const spinInterval=setInterval(()=>{
      pill.textContent=items[Math.floor(Math.random()*items.length)];
      elapsed+=interval;
      if(elapsed>=duration){
        clearInterval(spinInterval);
        const finalItem=items[Math.floor(Math.random()*items.length)];
        pill.textContent=finalItem;
        resolve(finalItem);
      }
    }, interval);
  });
}

async function pickRandom(){
  pickBtn.disabled=true;
  pickBtn.textContent="Spinning...";
  const cats=catSelects.map(s=>s.value||"Fav Movies");
  const promises=resPills.map((pill,i)=>{
    const items=data[cats[i]]&&data[cats[i]].length?data[cats[i]]:["No items"];
    return spinPill(pill,items,1200+Math.random()*600);
  });
  await Promise.all(promises);
  pickBtn.disabled=false;
  pickBtn.textContent="Spin";
}

function toggleLists(){
  fullLists.classList.toggle("show");
  showListsBtn.textContent=fullLists.classList.contains("show")?"Hide Lists":"Show All Lists";
}

function initialize(){
  populate();
  buildLists();
  catSelects.forEach((sel,i)=>{sel.onchange=()=>{resPills[i].textContent="—";}});
  pickBtn.onclick=pickRandom;
  showListsBtn.onclick=toggleLists;
}

initialize();
</script>
</body>
</html>
